# Example Project Configuration for Nexus with nexus-core Framework
#
# This file demonstrates how to configure multiple projects with the nexus bot,
# showing global defaults, per-project overrides, and how to customize workflows
# for different teams/projects.

# --- GLOBAL CONFIGURATION ---
# These settings apply to all projects unless overridden per-project

# Global workflow definition path (YAML workflow file - single source of truth)
# All workflow chains, routing logic, and agent orchestration are defined in this file
# See the workflow YAML for full step definitions, conditional routing, and approval gates
# Relative paths are resolved from BASE_DIR environment variable
workflow_definition_path: your-org/workflows/your_org_workflow.yaml

# PR Merge Policy (project-level enforcement)
# Controls whether @OpsCommander can auto-merge PRs or must wait for human approval
# Options:
#   - always: Human approval REQUIRED for all PRs (overrides workflow settings)
#   - workflow-based: Workflow YAML controls per-workflow/per-step merge behavior
#   - never: Auto-merge allowed (NOT recommended for production)
require_human_merge_approval: workflow-based  # Overrideable per project

# Global AI tool preferences: which AI tool to use for each agent
# Options: copilot (GitHub Copilot, better for code reasoning), gemini (Google Gemini, faster for analysis)
# Map agent names or agent_type values to AI tools
ai_tool_preferences:
  # Ghabs org-specific agents
  ProjectLead: copilot
  Atlas: copilot
  Architect: copilot
  Tier2Lead: copilot
  ProductDesigner: gemini
  QAGuard: gemini
  Scribe: gemini
  OpsCommander: gemini
  Privacy: gemini
  FrontendLead: copilot
  BackendLead: copilot
  MobileLead: copilot
  Developer: copilot  # Generic developer agent for quick implementations
  
  # Generic agent types (for development_workflow.yaml and custom workflows)
  triage: copilot          # Issue classification
  design: copilot          # Design proposals
  debug: copilot           # Root cause analysis
  code_reviewer: copilot   # PR reviews
  docs: gemini             # Documentation updates
  summarizer: gemini       # Workflow summaries

# --- PROJECT CONFIGURATIONS ---
# Each project must have: agents_dir, workspace, github_repo
# Optional: workflow_definition_path, ai_tool_preferences
# Paths (agents_dir, workspace, workflow_definition_path) can be relative to BASE_DIR

# Example: Project A (uses global defaults)
project_a:
  agents_dir: project-a/agents
  workspace: project_a
  github_repo: acme/project-a

# Example: Project B (uses global defaults)
project_b:
  agents_dir: project-b/agents
  workspace: project_b
  github_repo: acme/project-b

# Example: Project C (uses global defaults)
project_c:
  agents_dir: project-c/agents
  workspace: project_c
  github_repo: acme/project-c

# Example: Custom Project (CUSTOM AI TOOLS - OVERRIDES global defaults)
# This shows how to customize AI tool preferences for specific agents
custom_project:
  agents_dir: custom-project/agents
  workspace: custom_project
  github_repo: acme/custom-project
  
  # Use a different workflow YAML file for this project  
  # (defaults to global workflow_definition_path if not specified)
  # Can be relative (to BASE_DIR) or absolute path
  workflow_definition_path: custom-project/workflows/custom_workflow.yaml
  
  # Custom AI tool preferences for this project's agents
  # Map agent_type (from workflow YAML) to AI tool (copilot/gemini)
  # Only list agents that differ from global defaults
  ai_tool_preferences:
    triage: copilot          # Triage agent - issue classification
    design: copilot          # Design agent - technical proposals  
    debug: copilot           # Debug agent - root cause analysis
    code_reviewer: copilot   # Code review agent - PR reviews
    docs: gemini             # Docs agent - documentation updates (faster)
    summarizer: gemini       # Summarizer agent - workflow summaries (faster)
    OpsCommander: gemini     # Deployment agent (if using Ghabs org agents)
