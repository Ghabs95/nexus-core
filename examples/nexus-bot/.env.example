# Nexus Configuration environment variables
# Copy this to .env and populate with your keys.

# ================================
# BOT TOKENS & IDENTITY
# ================================
# Telegram Bot Token (from BotFather)
TELEGRAM_TOKEN=your_telegram_token_here

# Authorized Telegram User IDs (comma-separated list of numeric IDs)
TELEGRAM_ALLOWED_USER_IDS=123456789,987654321

# Confirmation mode: always | smart | never
TASK_CONFIRMATION_MODE=smart

# ================================
# PROJECT & PATHS
# ================================
# Workspace base directory (where your git repos live)
BASE_DIR=/home/ubuntu/git

# Path to the project_config.yaml
PROJECT_CONFIG_PATH=config/project_config.yaml

# Local data and log storage (recommended: ./data and ./logs)
NEXUS_RUNTIME_DIR=./data
LOGS_DIR=./logs

# ================================
# GIT PLATFORMS
# ================================
# GitHub Personal Access Token
GITHUB_TOKEN=your_github_token_here

# GitLab Personal Access Token (Optional)
# GITLAB_TOKEN=glpat-your_gitlab_token_here
# GITLAB_BASE_URL=https://gitlab.com

# Webhook configuration (for GitHub/GitLab events)
WEBHOOK_SECRET=your_webhook_secret_here
WEBHOOK_PORT=8081

# ================================
# INFRASTRUCTURE / STORAGE
# ================================
# Deployment mode: compose | systemd
DEPLOY_TYPE=compose

# Set to 'postgres' to enable enterprise database-backed mode
NEXUS_STORAGE_BACKEND=postgres

# Storage DSN used when a postgres backend is selected
NEXUS_STORAGE_DSN=postgresql://nexus:nexus@127.0.0.1:5432/nexus

# Optional domain overrides (leave unset to inherit NEXUS_STORAGE_BACKEND)
# NEXUS_WORKFLOW_BACKEND=postgres
# NEXUS_INBOX_BACKEND=postgres
# NEXUS_HOST_STATE_BACKEND=postgres

# Redis URL for conversational memory and multi-platform state
REDIS_URL=redis://localhost:6379/0

# Skip completions older than this window at startup (seconds)
NEXUS_COMPLETION_REPLAY_WINDOW_SECONDS=1800

# ================================
# AI / PERSONA SETTINGS
# ================================
# Base AI system prompt/persona for chat interactions
AI_PERSONA=You are Nexus, an elite technical and business execution advisor. Prioritize clarity, speed, and leverage. Give direct recommendations, surface tradeoffs and risks, and propose concrete next actions with an operator mindset. Stay professional, concise, and highly practical.

# AI analysis timeout (seconds)
AI_ANALYSIS_TIMEOUT=300

# Max retries before provider is marked unavailable
AI_MAX_RETRIES=3

# Voice transcription provider: whisper | gemini | copilot
TRANSCRIPTION_PRIMARY=whisper
WHISPER_MODEL=small
WHISPER_LANGUAGES=en,it

# ================================
# OTHER INTEGRATIONS (OPTIONAL)
# ================================
# Discord Bot Token
# DISCORD_TOKEN=your_discord_token_here
# DISCORD_ALLOWED_USER_IDS=123456789

# Slack Bot configuration
# SLACK_TOKEN=xoxb-your_bot_token_here
# SLACK_APP_TOKEN=xapp-your_app_token_here
# SLACK_SIGNING_SECRET=your_signing_secret_here
# SLACK_ALLOWED_USER_IDS=U123456789
